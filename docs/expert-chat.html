<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech Mate - ì „ë¬¸ê°€ì™€ ì±„íŒ…</title>
    <style>
        @import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css");

        :root {
            --primary-blue: #18c3b7;
            --primary-dark: rgb(9, 123, 116);
            --primary-light: #e8f1ff;
            --purple-gradient-start: #e8d5ff;
            --purple-gradient-end: #f3e8ff;
            --blue-gradient-start: #d5e8ff;
            --blue-gradient-end: #e8f4ff;
            --black: #000000;
            --white: #ffffff;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-600: #4b5563;
            --gray-800: #1f2937;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Pretendard", -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
            line-height: 1.5;
            color: var(--gray-800);
            background: var(--gray-50);
            height: 100vh;
            overflow: hidden;
        }

        .chat-container {
            display: flex;
            height: 100vh;
        }

        .sidebar {
            width: 300px;
            background: var(--white);
            border-right: 1px solid var(--gray-200);
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid var(--gray-200);
        }

        .back-btn {
            background: var(--gray-100);
            color: var(--gray-600);
            border: none;
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 16px;
        }

        .back-btn:hover {
            background: var(--gray-200);
        }

        .project-info {
            background: linear-gradient(135deg, var(--purple-gradient-start), var(--purple-gradient-end));
            border-radius: 12px;
            padding: 16px;
        }

        .project-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--gray-800);
            margin-bottom: 4px;
        }

        .project-status {
            font-size: 12px;
            color: var(--success);
            font-weight: 600;
        }

        .schedule-section {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .schedule-title {
            font-size: 14px;
            font-weight: 700;
            color: var(--gray-800);
            margin-bottom: 16px;
        }

        .schedule-item {
            background: var(--gray-50);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
            border-left: 3px solid var(--gray-300);
        }

        .schedule-item.completed {
            border-left-color: var(--success);
            background: rgba(16, 185, 129, 0.1);
        }

        .schedule-item.current {
            border-left-color: var(--primary-blue);
            background: var(--primary-light);
        }

        .schedule-week {
            font-size: 12px;
            color: var(--gray-500);
            margin-bottom: 4px;
        }

        .schedule-task {
            font-size: 14px;
            font-weight: 500;
            color: var(--gray-800);
        }

        .main-chat {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--white);
        }

        .chat-header {
            background: var(--primary-blue);
            color: var(--white);
            padding: 20px 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .expert-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .expert-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--white);
            color: var(--primary-blue);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .expert-details h3 {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 2px;
        }

        .expert-status {
            font-size: 12px;
            opacity: 0.9;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .online-indicator {
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
        }

        .header-actions {
            display: flex;
            gap: 8px;
        }

        .header-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: var(--white);
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 14px;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .header-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .chat-messages {
            flex: 1;
            padding: 24px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .message {
            display: flex;
            gap: 12px;
            max-width: 70%;
        }

        .message.user {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
            flex-shrink: 0;
        }

        .message-avatar.expert {
            background: var(--primary-blue);
            color: var(--white);
        }

        .message-avatar.user {
            background: var(--gray-200);
            color: var(--gray-800);
        }

        .message-content {
            background: var(--gray-100);
            padding: 12px 16px;
            border-radius: 16px;
            position: relative;
        }

        .message.user .message-content {
            background: var(--primary-blue);
            color: var(--white);
        }

        .message-time {
            font-size: 11px;
            color: var(--gray-400);
            margin-top: 4px;
            text-align: right;
        }

        .message.expert .message-time {
            text-align: left;
        }

        .system-message {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
            padding: 12px 16px;
            border-radius: 12px;
            font-size: 14px;
            text-align: center;
            margin: 16px 0;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .warning-message {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
            padding: 12px 16px;
            border-radius: 12px;
            font-size: 14px;
            text-align: center;
            margin: 16px 0;
            border: 1px solid rgba(245, 158, 11, 0.2);
        }

        .ai-guide {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 12px;
            padding: 16px;
            margin: 16px 0;
        }

        .ai-guide-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }

        .ai-guide-title {
            font-size: 14px;
            font-weight: 600;
            color: #3b82f6;
        }

        .ai-guide-content {
            font-size: 13px;
            color: var(--gray-600);
            line-height: 1.4;
        }

        .file-message {
            background: var(--gray-50);
            border: 1px solid var(--gray-200);
            border-radius: 12px;
            padding: 16px;
            margin: 8px 0;
        }

        .file-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .file-icon {
            width: 40px;
            height: 40px;
            background: var(--primary-light);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-blue);
            font-size: 16px;
        }

        .file-details {
            flex: 1;
        }

        .file-name {
            font-size: 14px;
            font-weight: 600;
            color: var(--gray-800);
        }

        .file-size {
            font-size: 12px;
            color: var(--gray-500);
        }

        .file-actions {
            display: flex;
            gap: 8px;
            margin-top: 8px;
        }

        .file-btn {
            background: var(--primary-blue);
            color: var(--white);
            border: none;
            border-radius: 6px;
            padding: 6px 12px;
            font-size: 12px;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .file-btn:hover {
            background: var(--primary-dark);
        }

        .file-btn.secondary {
            background: var(--gray-200);
            color: var(--gray-700);
        }

        .file-btn.secondary:hover {
            background: var(--gray-300);
        }

        .chat-input-area {
            padding: 16px 24px;
            background: var(--white);
            border-top: 1px solid var(--gray-200);
        }

        .chat-actions {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
        }

        .action-btn {
            background: var(--gray-100);
            color: var(--gray-600);
            border: none;
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .action-btn:hover {
            background: var(--primary-light);
            color: var(--primary-blue);
        }

        .chat-input-wrapper {
            display: flex;
            gap: 12px;
            align-items: flex-end;
        }

        .chat-input {
            flex: 1;
            border: 2px solid var(--gray-200);
            border-radius: 20px;
            padding: 12px 20px;
            font-size: 16px;
            outline: none;
            transition: border-color 0.3s ease;
            resize: none;
            min-height: 50px;
            max-height: 120px;
        }

        .chat-input:focus {
            border-color: var(--primary-blue);
        }

        .send-btn {
            background: var(--primary-blue);
            color: var(--white);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .send-btn:hover {
            background: var(--primary-dark);
            transform: scale(1.05);
        }

        .typing-indicator {
            display: none;
            align-items: center;
            gap: 8px;
            margin: 8px 0;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dot {
            width: 6px;
            height: 6px;
            background: var(--gray-400);
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) {
            animation-delay: -0.32s;
        }

        .typing-dot:nth-child(2) {
            animation-delay: -0.16s;
        }

        @keyframes typing {
            0%,
            80%,
            100% {
                transform: scale(0);
            }

            40% {
                transform: scale(1);
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                display: none;
            }

            .message {
                max-width: 85%;
            }

            .chat-messages {
                padding: 16px;
            }

            .chat-input-area {
                padding: 16px;
            }
        }
    </style>
</head>

<body>
    <div class="chat-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <button class="back-btn" onclick="goBack()">â† ë§¤ì¹­ ëª©ë¡</button>
                <div class="project-info">
                    <div class="project-title">ì˜¨ë¼ì¸ ì‡¼í•‘ëª° ì œì‘</div>
                    <div class="project-status">â— ë§¤ì¹­ ì„±ê³µ</div>
                </div>
            </div>
            
            <div class="schedule-section">
                <div class="schedule-title">ğŸ“… í•™ìŠµ ì¼ì •</div>
                
                <div class="schedule-item completed">
                    <div class="schedule-week">1ì£¼ì°¨ (ì™„ë£Œ)</div>
                    <div class="schedule-task">ê¸°íš ë° ì„¤ê³„</div>
                </div>
                
                <div class="schedule-item current">
                    <div class="schedule-week">2ì£¼ì°¨ (ìˆ˜ìš”ì¼ ì˜ˆì •)</div>
                    <div class="schedule-task">HTML/CSS ê¸°ì´ˆ</div>
                </div>
                
                <div class="schedule-item">
                    <div class="schedule-week">3ì£¼ì°¨</div>
                    <div class="schedule-task">ìƒí’ˆ í˜ì´ì§€ ì œì‘</div>
                </div>
                
                <div class="schedule-item">
                    <div class="schedule-week">4ì£¼ì°¨</div>
                    <div class="schedule-task">ì¥ë°”êµ¬ë‹ˆ & ê²°ì œ</div>
                </div>
            </div>
        </aside>

        <main class="main-chat">
            <header class="chat-header">
                <div class="expert-info">
                    <div class="expert-avatar">ê¹€</div>
                    <div class="expert-details">
                        <h3>ê¹€ì¤€í˜¸ ì „ë¬¸ê°€</h3>
                        <div class="expert-status">
                            <div class="online-indicator"></div>
                            ì˜¨ë¼ì¸ â€¢ ë³´í†µ 1ì‹œê°„ ë‚´ ì‘ë‹µ
                        </div>
                    </div>
                </div>
                <div class="header-actions">
                    <button class="header-btn">ğŸ“ íŒŒì¼</button>
                    <button class="header-btn">ğŸ“‹ ì¼ì •</button>
                </div>
            </header>

            <div class="chat-messages" id="chatMessages">
                <div class="system-message">
                    ğŸ‰ ê¹€ì¤€í˜¸ ì „ë¬¸ê°€ì™€ì˜ ë§¤ì¹­ì´ ì„±ê³µí–ˆìŠµë‹ˆë‹¤! ì˜¨ë¼ì¸ ì‡¼í•‘ëª° ì œì‘ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•´ë³´ì„¸ìš”.
                </div>

                <div class="message">
                    <div class="message-avatar expert">ê¹€</div>
                    <div class="message-content">
                        <p>ì•ˆë…•í•˜ì„¸ìš”! ê¹€ì¤€í˜¸ì…ë‹ˆë‹¤. ğŸ™Œ</p>
                        <p>ì˜¨ë¼ì¸ ì‡¼í•‘ëª° ì œì‘ í”„ë¡œì íŠ¸ì— ë§¤ì¹­ë˜ì–´ ê¸°ì©ë‹ˆë‹¤. ì–´ë–¤ ìƒí’ˆì„ íŒë§¤í•˜ì‹¤ ê³„íšì¸ì§€ ì•Œë ¤ì£¼ì„¸ìš”!</p>
                        <div class="message-time">ì›”ìš”ì¼ ì˜¤í›„ 2:15</div>
                    </div>
                </div>

                <div class="message user">
                    <div class="message-avatar user">ê¹€</div>
                    <div class="message-content">
                        <p>ì•ˆë…•í•˜ì„¸ìš”! í•¸ë“œë©”ì´ë“œ ì•¡ì„¸ì„œë¦¬ë¥¼ íŒë§¤í•˜ë ¤ê³  í•©ë‹ˆë‹¤.</p>
                        <div class="message-time">ì›”ìš”ì¼ ì˜¤í›„ 2:17</div>
                    </div>
                </div>

                <div class="message">
                    <div class="message-avatar expert">ê¹€</div>
                    <div class="message-content">
                        <p>ì¢‹ì€ ì•„ì´í…œì´ë„¤ìš”! í•¸ë“œë©”ì´ë“œ ì œí’ˆì€ ìŠ¤í† ë¦¬í…”ë§ì´ ì¤‘ìš”í•´ì„œ ì‚¬ì§„ê³¼ ì„¤ëª…ì´ í•µì‹¬ì…ë‹ˆë‹¤.</p>
                        <p>ìš°ì„  ê¸°ë³¸ì ì¸ ì‡¼í•‘ëª° êµ¬ì¡°ë¶€í„° ì„¤ê³„í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>
                        <div class="message-time">ì›”ìš”ì¼ ì˜¤í›„ 2:18</div>
                    </div>
                </div>

                <div class="file-message">
                    <div class="file-info">
                        <div class="file-icon">ğŸ“„</div>
                        <div class="file-details">
                            <div class="file-name">í•¸ë“œë©”ì´ë“œ_ì‡¼í•‘ëª°_ê¸°ë³¸êµ¬ì¡°.pdf</div>
                            <div class="file-size">1.8 MB</div>
                        </div>
                    </div>
                    <div class="file-actions">
                        <button class="file-btn">ë‹¤ìš´ë¡œë“œ</button>
                        <button class="file-btn secondary">ë¯¸ë¦¬ë³´ê¸°</button>
                    </div>
                </div>

                <div class="message">
                    <div class="message-avatar expert">ê¹€</div>
                    <div class="message-content">
                        <p>ìœ„ íŒŒì¼ì— ê¸°ë³¸ êµ¬ì¡°ë¥¼ ì •ë¦¬í•´ë’€ì–´ìš”. ìƒí’ˆ ì¹´í…Œê³ ë¦¬, ì¥ë°”êµ¬ë‹ˆ, ê²°ì œ ì‹œìŠ¤í…œì„ í¬í•¨í–ˆìŠµë‹ˆë‹¤.</p>
                        <p>ë‚´ì¼ í™”ìš”ì¼ ì˜¤í›„ 2ì‹œì— ì²« ìˆ˜ì—…ì„ ì§„í–‰í•  ì˜ˆì •ì…ë‹ˆë‹¤. ì¤€ë¹„í•´ì•¼ í•  ê²ƒë“¤ì„ ì•Œë ¤ë“œë¦´ê²Œìš”!</p>
                        <div class="message-time">ì›”ìš”ì¼ ì˜¤í›„ 2:22</div>
                    </div>
                </div>

                <div class="message user">
                    <div class="message-avatar user">ê¹€</div>
                    <div class="message-content">
                        <p>ë„¤ ì¢‹ìŠµë‹ˆë‹¤! í˜¹ì‹œ ë‚´ì¼ ì¼ì •ì„ í•˜ë£¨ ë’¤ë¡œ ë¯¸ë£° ìˆ˜ ìˆì„ê¹Œìš”? ê°‘ìê¸° íšŒì‚¬ ì—…ë¬´ê°€ ìƒê²¼ì–´ìš”.</p>
                        <div class="message-time">ì›”ìš”ì¼ ì˜¤í›„ 2:30</div>
                    </div>
                </div>

                <div class="warning-message">
                    âš ï¸ ì¼ì • ë³€ê²½ ì•ˆë‚´: ìˆ˜ì—… ì¼ì •ì€ 3ì¼ ì „ì— ë³€ê²½ ìš”ì²­í•´ì£¼ì„¸ìš”. ë‹¹ì¼ì´ë‚˜ 1-2ì¼ ì „ ë³€ê²½ì‹œ ìœ„ì•½ê¸ˆ(ìˆ˜ê°•ë£Œì˜ 20%)ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </div>

                <div class="ai-guide">
                    <div class="ai-guide-header">
                        <span>ğŸ¤–</span>
                        <div class="ai-guide-title">AI ì¼ì • ê´€ë¦¬ ê°€ì´ë“œ</div>
                    </div>
                    <div class="ai-guide-content">
                        ì¼ì • ë³€ê²½ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤. í˜„ì¬ ìˆ˜ì—… 24ì‹œê°„ ì „ì´ë¯€ë¡œ ìœ„ì•½ê¸ˆì´ ì ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
                        ì „ë¬¸ê°€ì™€ ìƒì˜í•˜ì—¬ ì¼ì •ì„ ì¡°ì •í•˜ê±°ë‚˜, ë‹¤ìŒ ê¸°íšŒì— ë¯¸ë¦¬ ë³€ê²½ ìš”ì²­í•´ì£¼ì„¸ìš”.
                    </div>
                </div>

                <div class="message">
                    <div class="message-avatar expert">ê¹€</div>
                    <div class="message-content">
                        <p>ì´í•´í•©ë‹ˆë‹¤! ì´ë²ˆì—ëŠ” íŠ¹ë³„íˆ ìˆ˜ìš”ì¼ ê°™ì€ ì‹œê°„ìœ¼ë¡œ ë³€ê²½í•´ë“œë¦´ê²Œìš”. ğŸ™‚</p>
                        <p>ë‹¤ìŒë²ˆë¶€í„°ëŠ” ë¯¸ë¦¬ ì—°ë½ ì£¼ì‹œë©´ ë” ìˆ˜ì›”í•˜ê²Œ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        <div class="message-time">ì›”ìš”ì¼ ì˜¤í›„ 2:35</div>
                    </div>
                </div>

                <div class="message user">
                    <div class="message-avatar user">ê¹€</div>
                    <div class="message-content">
                        <p>ê°ì‚¬í•©ë‹ˆë‹¤! ë‹¤ìŒë²ˆë¶€í„°ëŠ” ë¯¸ë¦¬ ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ìˆ˜ìš”ì¼ì— ëµ™ê² ìŠµë‹ˆë‹¤!</p>
                        <div class="message-time">ì›”ìš”ì¼ ì˜¤í›„ 2:37</div>
                    </div>
                </div>

                <div class="system-message">
                    ğŸ“… ìˆ˜ì—… ì¼ì •ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤: í™”ìš”ì¼ â†’ ìˆ˜ìš”ì¼ ì˜¤í›„ 2ì‹œ
                </div>

                <div class="ai-guide">
                    <div class="ai-guide-header">
                        <span>ğŸ¤–</span>
                        <div class="ai-guide-title">AI í•™ìŠµ ê°€ì´ë“œ</div>
                    </div>
                    <div class="ai-guide-content">
                        ìˆ˜ì—… ì „ ì¤€ë¹„ì‚¬í•­ì„ ì²´í¬í•´ë³´ì„¸ìš”! HTML/CSS ê¸°ì´ˆ ë³µìŠµê³¼ ê°œë°œí™˜ê²½ ì„¤ì •ì„ ë¯¸ë¦¬ í•´ë‘ì‹œë©´ ìˆ˜ì—…ì´ ë” íš¨ê³¼ì ì…ë‹ˆë‹¤.
                    </div>
                </div>

                <div class="typing-indicator" id="typingIndicator">
                    <div class="message-avatar expert">ê¹€</div>
                    <div class="message-content" style="background: var(--gray-100);">
                        <div class="typing-dots">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="chat-input-area">
                <div class="chat-actions">
                    <button class="action-btn" onclick="scheduleChange()">ğŸ“… ì¼ì • ë³€ê²½</button>
                    <button class="action-btn" onclick="shareScreen()">ğŸ–¥ï¸ í™”ë©´ ê³µìœ </button>
                    <button class="action-btn" onclick="sendFile()">ğŸ“ íŒŒì¼ ì „ì†¡</button>
                    <button class="action-btn" onclick="requestHelp()">ğŸ†˜ ë„ì›€ ìš”ì²­</button>
                </div>
                
                <div class="chat-input-wrapper">
                    <textarea class="chat-input" id="chatInput" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."
                        onkeypress="handleKeyPress(event)"></textarea>
                    <button class="send-btn" id="sendBtn" onclick="sendMessage()">â†’</button>
                </div>
            </div>
        </main>
    </div>

    <script>
        function goBack() {
            window.location.href = 'expert-matching.html';
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message) {
                addUserMessage(message);
                input.value = '';
                
                // íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„° í‘œì‹œ
                showTyping();
                
                // ìë™ ì‘ë‹µ ì‹œë®¬ë ˆì´ì…˜
                setTimeout(() => {
                    hideTyping();
                    simulateExpertResponse(message);
                }, 2000 + Math.random() * 2000);
            }
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }

        function addUserMessage(message) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageElement = document.createElement('div');
            messageElement.className = 'message user';
            
            const now = new Date();
            const timeString = `ì˜¤ëŠ˜ ${now.getHours() >= 12 ? 'ì˜¤í›„' : 'ì˜¤ì „'} ${now.getHours() % 12 || 12}:${String(now.getMinutes()).padStart(2, '0')}`;
            
            messageElement.innerHTML = `
                <div class="message-avatar user">ê¹€</div>
                <div class="message-content">
                    <p>${message}</p>
                    <div class="message-time">${timeString}</div>
                </div>
            `;
            messagesContainer.appendChild(messageElement);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function addExpertMessage(message) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageElement = document.createElement('div');
            messageElement.className = 'message';
            
            const now = new Date();
            const timeString = `ì˜¤ëŠ˜ ${now.getHours() >= 12 ? 'ì˜¤í›„' : 'ì˜¤ì „'} ${now.getHours() % 12 || 12}:${String(now.getMinutes()).padStart(2, '0')}`;
            
            messageElement.innerHTML = `
                <div class="message-avatar expert">ê¹€</div>
                <div class="message-content">
                    <p>${message}</p>
                    <div class="message-time">${timeString}</div>
                </div>
            `;
            messagesContainer.appendChild(messageElement);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function simulateExpertResponse(userMessage) {
            const responses = [
                "ì¢‹ì€ ì§ˆë¬¸ì´ë„¤ìš”! ê·¸ ë¶€ë¶„ì€ ë‹¤ìŒê³¼ ê°™ì´ í•´ê²°í•  ìˆ˜ ìˆì–´ìš”.",
                "ì´í•´í•˜ì…¨êµ°ìš”! ë‹¤ìŒ ë‹¨ê³„ë¡œ ë„˜ì–´ê°€ë´…ì‹œë‹¤.",
                "ë§ìŠµë‹ˆë‹¤! ê·¸ëŸ° ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼í•˜ì‹œë©´ ë©ë‹ˆë‹¤.",
                "ê·¸ ë¶€ë¶„ì´ ì¡°ê¸ˆ ì–´ë ¤ìš°ì‹¤ ìˆ˜ ìˆì–´ìš”. ì°¨ê·¼ì°¨ê·¼ ì„¤ëª…í•´ë“œë¦´ê²Œìš”.",
                "ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œë„ ë§ì´ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ì˜ ì´í•´í•˜ê³  ê³„ì‹œë„¤ìš”!"
            ];
            
            const randomResponse = responses[Math.floor(Math.random() * responses.length)];
            addExpertMessage(randomResponse);
            
            // ê°€ë”ì”© AI ê°€ì´ë“œë‚˜ ê²½ê³  ë©”ì‹œì§€ í‘œì‹œ
            if (Math.random() < 0.3) {
                setTimeout(() => {
                    showAIGuide();
                }, 1000);
            }
        }

        function showTyping() {
            document.getElementById('typingIndicator').style.display = 'flex';
            document.getElementById('chatMessages').scrollTop = document.getElementById('chatMessages').scrollHeight;
        }

        function hideTyping() {
            document.getElementById('typingIndicator').style.display = 'none';
        }

        function showAIGuide() {
            const guides = [
                "í˜„ì¬ í•™ìŠµ ì§„ë„ê°€ ëª©í‘œë³´ë‹¤ ì•ì„œê°€ê³  ìˆìŠµë‹ˆë‹¤. ì¶”ê°€ ì‹¤ìŠµ ê³¼ì œë¥¼ ì¤€ë¹„í•´ë“œë¦´ê¹Œìš”?",
                "ì§€ê¸ˆê¹Œì§€ ë°°ìš´ ë‚´ìš©ì„ ë³µìŠµí•  ì‹œê°„ì…ë‹ˆë‹¤. í€´ì¦ˆë¥¼ í†µí•´ ì´í•´ë„ë¥¼ ì²´í¬í•´ë³´ì„¸ìš”.",
                "ë‹¤ìŒ ì£¼ ì¼ì •ì´ ë‹¤ì†Œ ë¹ ë“¯í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¯¸ë¦¬ ì˜ˆìŠµìë£Œë¥¼ í™•ì¸í•´ë³´ì‹œê¸¸ ê¶Œí•©ë‹ˆë‹¤.",
                "ì „ë¬¸ê°€ì™€ì˜ ì†Œí†µì´ í™œë°œí•˜ë„¤ìš”! ì´ëŸ° ì ê·¹ì ì¸ ìì„¸ê°€ í•™ìŠµì— í° ë„ì›€ì´ ë©ë‹ˆë‹¤."
            ];
            
            const messagesContainer = document.getElementById('chatMessages');
            const guideElement = document.createElement('div');
            guideElement.className = 'ai-guide';
            guideElement.innerHTML = `
                <div class="ai-guide-header">
                    <span>ğŸ¤–</span>
                    <div class="ai-guide-title">AI í•™ìŠµ ê°€ì´ë“œ</div>
                </div>
                <div class="ai-guide-content">
                    ${guides[Math.floor(Math.random() * guides.length)]}
                </div>
            `;
            messagesContainer.appendChild(guideElement);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function scheduleChange() {
            const now = new Date();
            const nextClass = new Date(now.getTime() + (2 * 24 * 60 * 60 * 1000)); // 2ì¼ í›„
            const timeDiff = nextClass - now;
            const daysDiff = Math.ceil(timeDiff / (1000 * 60 * 60 * 24));
            
            if (daysDiff < 3) {
                if (confirm(`âš ï¸ ì¼ì • ë³€ê²½ ê²½ê³ \n\nìˆ˜ì—… ${daysDiff}ì¼ ì „ì´ë¯€ë¡œ ìœ„ì•½ê¸ˆ(ìˆ˜ê°•ë£Œì˜ 20%)ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nê·¸ë˜ë„ ì¼ì • ë³€ê²½ì„ ìš”ì²­í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                    addUserMessage('ì¼ì • ë³€ê²½ì„ ìš”ì²­ë“œë¦½ë‹ˆë‹¤. ìœ„ì•½ê¸ˆ ë°œìƒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.');
                    
                    setTimeout(() => {
                        showTyping();
                        setTimeout(() => {
                            hideTyping();
                            addExpertMessage('ì¼ì • ë³€ê²½ ìš”ì²­ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ê°€ëŠ¥í•œ ëŒ€ì²´ ì¼ì •ì„ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤. ìœ„ì•½ê¸ˆì€ ì‹¤ì œ ë³€ê²½ ì™„ë£Œ í›„ ì•ˆë‚´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.');
                            showScheduleWarning();
                        }, 2000);
                    }, 1000);
                }
            } else {
                if (confirm('ì¼ì • ë³€ê²½ì„ ìš”ì²­í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (3ì¼ ì „ì´ë¯€ë¡œ ìœ„ì•½ê¸ˆì´ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤)')) {
                    addUserMessage('ì¼ì • ë³€ê²½ì„ ìš”ì²­ë“œë¦½ë‹ˆë‹¤.');
                    setTimeout(() => {
                        showTyping();
                        setTimeout(() => {
                            hideTyping();
                            addExpertMessage('ì¼ì • ë³€ê²½ ìš”ì²­ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ê°€ëŠ¥í•œ ëŒ€ì²´ ì¼ì •ì„ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤!');
                        }, 2000);
                    }, 1000);
                }
            }
        }

        function showScheduleWarning() {
            const messagesContainer = document.getElementById('chatMessages');
            const warningElement = document.createElement('div');
            warningElement.className = 'warning-message';
            warningElement.innerHTML = `
                âš ï¸ ì¼ì • ë³€ê²½ ê·œì • ì•ˆë‚´<br>
                â€¢ 3ì¼ ì „ ë³€ê²½: ë¬´ë£Œ<br>
                â€¢ 1-2ì¼ ì „ ë³€ê²½: ìˆ˜ê°•ë£Œì˜ 20% ìœ„ì•½ê¸ˆ<br>
                â€¢ ë‹¹ì¼ ë³€ê²½: ìˆ˜ê°•ë£Œì˜ 50% ìœ„ì•½ê¸ˆ<br>
                <small>íŠ¹ë³„í•œ ì‚¬ì •ì´ ìˆìœ¼ì‹œë©´ ì „ë¬¸ê°€ì™€ ê°œë³„ ìƒë‹´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</small>
            `;
            messagesContainer.appendChild(warningElement);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function shareScreen() {
            alert('í™”ë©´ ê³µìœ  ìš”ì²­ì„ ë³´ëƒˆìŠµë‹ˆë‹¤. ì „ë¬¸ê°€ì˜ ìŠ¹ì¸ì„ ê¸°ë‹¤ë¦¬ê³  ìˆìŠµë‹ˆë‹¤.');
        }

        function sendFile() {
            alert('íŒŒì¼ ì „ì†¡ ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” íŒŒì¼ ì—…ë¡œë“œê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
        }

        function requestHelp() {
            const helpMessage = 'ë„ì›€ì´ í•„ìš”í•©ë‹ˆë‹¤. í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ë¶€ë¶„ì—ì„œ ë§‰í˜”ì–´ìš”.';
            addUserMessage(helpMessage);
            
            setTimeout(() => {
                showTyping();
                setTimeout(() => {
                    hideTyping();
                    addExpertMessage('ì–´ë–¤ ë¶€ë¶„ì—ì„œ ë§‰íˆì…¨ë‚˜ìš”? êµ¬ì²´ì ìœ¼ë¡œ ì•Œë ¤ì£¼ì‹œë©´ ë°”ë¡œ ë„ì™€ë“œë¦´ê²Œìš”! í•„ìš”í•˜ë‹¤ë©´ í™”ë©´ ê³µìœ ë¡œ ì§ì ‘ ë³´ì—¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤.');
                }, 1500);
            }, 500);
        }

        // ì±„íŒ… ì…ë ¥ì°½ ìë™ í¬ê¸° ì¡°ì ˆ
        document.getElementById('chatInput').addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 120) + 'px';
        });

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìŠ¤í¬ë¡¤ì„ ë§¨ ì•„ë˜ë¡œ
        window.addEventListener('load', function() {
            document.getElementById('chatMessages').scrollTop = document.getElementById('chatMessages').scrollHeight;
        });

        // ì£¼ê¸°ì ìœ¼ë¡œ ìƒˆ ë©”ì‹œì§€ ì‹œë®¬ë ˆì´ì…˜ (ë°ëª¨ìš©)
        let messageCount = 0;
        setInterval(() => {
            if (messageCount < 2 && Math.random() < 0.08) {
                const demoMessages = [
                    "ìˆ˜ì—… ì „ ì¤€ë¹„ì‚¬í•­ì„ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¡œ ì •ë¦¬í•´ì„œ ë³´ë‚´ë“œë¦´ê²Œìš”!",
                    "í˜¹ì‹œ ê°œë°œí™˜ê²½ ì„¤ì •ì—ì„œ ë§‰íˆëŠ” ë¶€ë¶„ì´ ìˆìœ¼ì‹œë©´ ë¯¸ë¦¬ ì•Œë ¤ì£¼ì„¸ìš”."
                ];
                
                showTyping();
                setTimeout(() => {
                    hideTyping();
                    addExpertMessage(demoMessages[messageCount]);
                    messageCount++;
                    
                    // ê°€ë”ì”© AI ê°€ì´ë“œ í‘œì‹œ
                    if (messageCount === 2) {
                        setTimeout(() => {
                            const messagesContainer = document.getElementById('chatMessages');
                            const aiGuide = document.createElement('div');
                            aiGuide.className = 'ai-guide';
                            aiGuide.innerHTML = `
                                <div class="ai-guide-header">
                                    <span>ğŸ¤–</span>
                                    <div class="ai-guide-title">AI í•™ìŠµ ë„ìš°ë¯¸</div>
                                </div>
                                <div class="ai-guide-content">
                                    ì „ë¬¸ê°€ì™€ì˜ ì†Œí†µì´ í™œë°œí•˜ë„¤ìš”! ìˆ˜ì—… ì „ ë¯¸ë¦¬ ì§ˆë¬¸ì„ ì¤€ë¹„í•´ë‘ì‹œë©´ ë” íš¨ê³¼ì ì¸ í•™ìŠµì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                                    ì¶”ì²œ ì‚¬ì „ í•™ìŠµ ìë£Œë¥¼ í™•ì¸í•´ë³´ì‹œê² ì–´ìš”?
                                </div>
                            `;
                            messagesContainer.appendChild(aiGuide);
                            messagesContainer.scrollTop = messagesContainer.scrollHeight;
                        }, 3000);
                    }
                }, 2000);
            }
        }, 45000); // 45ì´ˆë§ˆë‹¤ ì²´í¬
    </script>
</body>

</html>